<!DOCTYPE html>
<html>

<head>
    <!-- Note for myself: Sources should be ordered carefully, considering two issues 
        
        Issue 1: Dependency
            When source A depends on B, B should be specified before A.
            (e.g. "jquery-latest.min.js" has been specified before "jquery-ui.js" because the latter depends on the former)
        
        Issue 2: Overriding
            When source A and B is of the same type (e.g. CSS), later-specified one will override the one specified first.
            (e.g. "styles.css" has been specified after "jquery-ui.js". If ordered in an opposite way, the ".ui-dialog-titlebar"
            in "styles.css" does not take effect) -->
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta -->
    <meta charset="utf-8" />
    <meta content="initial-scale=1, width=device-width" name="viewport" />
    <!-- http://jquery.com/ -->
    <script src="https://code.jquery.com/jquery-latest.min.js"></script>
    <!-- D3.js -->
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <!-- http://getbootstrap.com/ -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />
    <!-- http://getbootstrap.com/ -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- jQuery UI CSS -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <!-- jQuery UI js; jQuery UI has been specified after bootstrap to avoid being overrun. Otherwise, dialog title bar's close button ("X") becomes invisible -->
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <!-- app's own CSS -->
    <link href="{{ url_for('static', filename='styles.css') }}" rel="stylesheet" />
    <!-- https://github.com/corejavascript/typeahead.js/blob/master/doc/jquery_typeahead.md -->
    <script src="https://cdn.rawgit.com/corejavascript/typeahead.js/master/dist/typeahead.jquery.js"></script>
    <!-- http://handlebarsjs.com/ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
    <!-- http://stewartjpark.com/Flask-JSGlue/ -->
    {{ JSGlue.include() }}
    <!-- app's own JavaScript -->
    <script src="{{ url_for('static', filename='scripts_suggestJS.js') }}"></script>
    <title>Pubmed records visualiser</title>
</head>

<body>
    <div id="dialog_about" style="display: none">
        <h2>Overview</h2>
        <h4>
            <p>
                When a user types in a keyword (or keywords), this website finds relevant publications in Pubmed. Records of maximum 100,000 publications published within the last 5 years are fetched. Then, 5 <b>authors</b> with most publications are displayed. 
            </p>
            <p>
                Clicking the bar for each author will display his/her publications per <b>year</b> and per <b>journal</b>.
            </p>
            <p>
                Then, clicking the bar or circle for each year or journal will display full reference info in a format similar to APA style.
            </p>
        </h4>
        <br>
        <h2>
            Data
        </h2>
        <h4>
            <p>
                This website accesses Pubmed database at the National Center for Biotechnology Information (NCBI) using its "E-utilities" (particularly "<a href="https://www.ncbi.nlm.nih.gov/books/NBK25499/#_chapter4_ESearch_" target="_blank">ESearch</a>" and "<a href="https://www.ncbi.nlm.nih.gov/books/NBK25499/#_chapter4_EFetch_" target="_blank">EFetch</a>"). NCBI's Disclaimer and Copyright notice can be found <a href="https://www.ncbi.nlm.nih.gov/home/about/policies/" target="_blank">here</a>.
            </p>
            Publications are excluded if they ...
            <br>
            <ul>
                <li>have been retracted,</li>
                <li>are retraction notifications for other publications,</li>
                <li>are correction notifications,</li>
                <li>are supplementary materials for other publications, or</li>
                <li>have been replaced by later versions.</li>
            </ul>
        </h4>
        <br>
        <h2>Limitations</h2>
        <h4>
            <ul>
                <li>Different authors with same names are considered the same author because Pubmed does not provide author ID.</li>
                <li>Dash-like characters in author names will be replaced with space. This is to enforce consistency in case the same author inconsistently has the dash-like characters in his/her name.</li>
            </ul>
        </h4>
    </div>
    <div id="dialog_contact" style="display: none">
        <a href="mailto:simon_nam@hotmail.com">simon_nam@hotmail.com</a>
    </div>
    <center>
        <div class="extra">
            <a href="#" onclick="return false;" id="about">About</a>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
            <a href="https://github.com/gknam" target="_blank">Code</a>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
            <a href="#" onclick="return false;" id="contact">Contact</a>
        </div>
        <br>
        <div class="titles">
            <p id="title">Find Pubmed's 5 authors with most publications</p>
            <p id="sub_title">Check up to 100,000 articles published in the last 5 years</p>
        </div>
    </center>
    <!-- http://getbootstrap.com/css/#forms -->
    <form id="form">
        <div class="form-group">
            Max number of days from today
            <input class="form-control" id="d" placeholder="e.g. 365" type="text" value="365" tabindex="1" autocomplete="off"/>
            Max number of articles to check
            <input class="form-control" id="a" placeholder="e.g. 1000" type="text" value="100" tabindex="2" autocomplete="off"/>
            Keyword<br>
            <input class="form-control" id="q" placeholder="e.g. psychology" type="text" tabindex="3" autocomplete="off" autofocus/>
            <button type="submit" class="btn" id = "fetch" tabindex="4" >Fetch!</button>
        </div>
    </form>
    <div class="searchTerm"></div>
    <div class="images"></div>
    <div class="authorDiv"></div>
    <div class="yearJournalDiv"></div>
</body>

</html>